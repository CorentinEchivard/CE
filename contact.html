<!DOCTYPE html>
<html lang="fr">

<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About</title>
  <link rel="stylesheet" href="scripts/style.css">
  <link rel="icon" type="image/x-icon" href="links/favicon.ico">
</head>

<body>

  <!--Header-->

  <div class="header">
    <div class="designer"><a href="index.html">Corentin Echivard</a></div>
    <div class="menu">
      <div id="txt1on" class="dropdown .toggleDiv">
        <button class="dropbtn">Projet […]</button>
        <div class="dropdown-content">
          <a class="drop-project" href="milletype-foundry.html">[✲ Milletype Foundry]</a>
          <a class="drop-project" href="minazuki.html">[✛ MF Minazuki]</a>
          <a class="drop-project" href="maintenance-controle-derapages.html">[✢ Maintenance, contrôles et dérapages]</a>
          <a class="drop-project" href="images-archivees-collectees-empruntees.html">[✹ Images archivées, collectées, empruntées]</a>
          <a class="drop-project" href="ephemere.html">[✷ Éphémère]</a>
          <a class="drop-project" href="burner-insitute.html">[✶ Burner institute]</a>
          <a class="drop-project" href="recolte-citadine.html">[✦ La Récolte Citadine]</a>
          <a class="drop-project" href="webdesign.html">[❉ Web design]</a>
          <a class="drop-project" href="screenprint.html">[❊ Sérigraphie]</a>
        </div>
      </div>

      <div id="txt1off" class="dropdown .toggleDiv">
        <button class="dropbtn">Project […]</button>
        <div class="dropdown-content">
          <a class="drop-project" href="milletype-foundry.html">[✲ Milletype Foundry]</a>
          <a class="drop-project" href="minazuki.html">[✛ MF Minazuki]</a>
          <a class="drop-project" href="maintenance-controle-derapages.html">[✢ Maintenance, contrôles et dérapages]</a>
          <a class="drop-project" href="images-archivees-collectees-empruntees.html">[✹ Images archivées, collectées, empruntées]</a>
          <a class="drop-project" href="ephemere.html">[✷ Éphémère]</a>
          <a class="drop-project" href="burner-insitute.html">[✶ Burner institute]</a>
          <a class="drop-project" href="recolte-citadine.html">[✦ La Récolte Citadine]</a>
          <a class="drop-project" href="webdesign.html">[❉ Web design]</a>
          <a class="drop-project" href="screenprint.html">[❊ Screenprint]</a>
        </div>
      </div>
      <!--Menu-->
      <div id="txt2on" class="item-menu .toggleDiv"><a href="about.html">À propos</a></div>
      <div id="txt2off" class="item-menu .toggleDiv"><a href="about.html">About</a></div>
      <div class="item-menu"><a href="contact.html">Contact</a></div>
      <!--Language-->
      <div id="txt3on" class="langue .toggleDiv">
        <button class="translate underline">Fr</button> /
        <button class="translate" href="javascript:;" onclick="navigation(['txt1', 'txt2', 'txt3', 'txt4', 'txt5']);">En</button>
      </div>
      <div id="txt3off" class="langue .toggleDiv">
        <button class="translate" href="javascript:;" onclick="navigation(['txt1', 'txt2', 'txt3', 'txt4', 'txt5']);">Fr</button> /
        <button class="translate underline">En</button>
      </div>
      <!--Light dark-->
      <div><button class="theme-label checked light-theme" for="light" onclick="changeTheme('light')">Light</button><span class="langue"> /</span>
        <button class="theme-label dark-theme" for="dark" onclick="changeTheme('dark')">Dark</button>
      </div>
    </div>
  </div>





  <div class="footerindex">
    <div id="txt5on" class="footerflex .toggleDiv">
      <span class="item-footer">Actuellement à Lyon, France</span><span class="item-footer">Ouvert aux collaborations</span><br>
      <span class="item-footer">O6 76 3O 33 1O</span><a class="item-footer">corentinech[at]gmail.com</a><a href="links/CE_Portfolio24.pdf" class="item-footer">Portfolio [↓]</a>
    </div>
    <div id="txt5off" class="footerflex .toggleDiv">
      <span class="item-footer">Currently in Lyon, France</span><span class="item-footer">Open to work</span><br>
      <span class="item-footer">+33[O]6 76 3O 33 1O</span><span class="item-footer">corentinech[at]gmail.com</span><a href="links/CE_Portfolio24.pdf" class="item-footer">Portfolio [↓]</a>
    </div>
  </div>
</body>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
  //hover sélection projet

  $('.indexhover').mousemove(function(e) {
    $(this).find('.introgif').addClass('visible');
    $(this).find('.introgif').css({
      left: e.pageX,
      top: e.pageY
    });
  }).mouseleave(function() {
    $(this).find('.introgif').removeClass('visible');
  });


  //Accordion

  var acc = document.getElementsByClassName("project");

  // Add click event listener to the document body
  document.body.addEventListener("click", function(event) {
    // Check if the clicked element is not within an active project
    if (!event.target.closest(".project.active")) {
      // Close all open panels
      var active = document.querySelectorAll(".project-div .project.active");
      for (let j = 0; j < active.length; j++) {
        active[j].classList.remove("active");
        active[j].nextElementSibling.style.maxHeight = null;
      }
    }
  });

  for (var i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        let active = document.querySelectorAll(".project-div .project.active");
        for (let j = 0; j < active.length; j++) {
          active[j].classList.remove("active");
          active[j].nextElementSibling.style.maxHeight = null;
        }
        this.classList.toggle("active");
        panel.style.maxHeight = panel.scrollHeight + "px";
      }
    });
  }


  //Light/Dark mode user prefered

  $(document).ready(function() {
    setMode();
    updateButtonDecoration(localStorage.getItem("mode") || "light");

    // Event listener for theme change
    $(".theme-label").on("click", function() {
      var theme = $(this).attr("for");
      localStorage.setItem("mode", theme);
      setMode();
      updateButtonDecoration(theme);
    });

    window.matchMedia('(prefers-color-scheme: dark)').addListener(function(e) {
      if (e.matches) {
        changeTheme('dark');
      } else {
        changeTheme('light');
      }
    });
  });

  function setMode() {
    var mode = localStorage.getItem("mode");

    if (!mode) {
      mode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }

    $("body").removeClass("dark-theme light-theme");
    $("body").addClass(mode + "-theme");

    if (mode === "light") {
      $(".light-theme-image").removeClass("dark-image-style");
      $(".light-theme-image").addClass("light-image-style");
    } else {
      $(".light-theme-image").removeClass("light-image-style");
      $(".light-theme-image").addClass("dark-image-style");
    }
  }

  function updateButtonDecoration(selectedTheme) {
    $('.theme-label').removeClass('checked underline-light underline-dark');
    if (selectedTheme === "light") {
      $('.theme-label.light-theme').addClass('checked underline-light');
    } else {
      $('.theme-label.dark-theme').addClass('checked underline-dark');
    }
  }

  function changeTheme(theme) {
    localStorage.setItem("mode", theme);
    setMode();
    updateButtonDecoration(theme);
  }


  // Langue

  function navigation(divids) {
    for (var i = 0; i < divids.length; i++) {
      var divid = divids[i];
      var varon = divid + 'on';
      var varoff = divid + 'off';

      if (document.getElementById(varon).style.display === 'block') {
        document.getElementById(varon).style.display = 'none';
        document.getElementById(varoff).style.display = 'block';
      } else {
        document.getElementById(varoff).style.display = 'none';
        document.getElementById(varon).style.display = 'block';
      }
    }
  }

  var divsToToggle = ['txt1', 'txt2', 'txt3', 'txt4', 'txt5'];
  navigation(divsToToggle);
</script>

</html>
